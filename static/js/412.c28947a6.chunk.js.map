{"version":3,"file":"static/js/412.c28947a6.chunk.js","mappings":"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","sources":["Components/ProductDetails/ProductDetails.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { FallingLines } from 'react-loader-spinner';\nimport Slider from \"react-slick\";\nimport { Helmet } from 'react-helmet';\nimport { CartContext } from '../../Context/CartContext.js';\nimport toast from 'react-hot-toast';\nimport { WishListContext } from '../../Context/WishListContext.js';\n\nexport default function ProductDetails() {\n  const [clickedButtons, setClickedButtons] = useState([]);\n  const [wishList, setWishList] = useState([])\n  let { addToCart, setCartCount } = useContext(CartContext)\n  let { addTowishList, deletewishListItems, setWishListCount, getwishListItems  } = useContext(WishListContext)\n\n\n  const handleClick = (buttonId) => {\n    if (clickedButtons.includes(buttonId)) {\n      deletelistItems(buttonId)\n    } else {\n      postTowishList(buttonId)\n    }\n\n    // Toggle the clicked state for the current button\n    setClickedButtons((prevClickedButtons) => {\n      if (prevClickedButtons.includes(buttonId)) {\n        return prevClickedButtons.filter((id) => id !== buttonId);\n      } else {\n        return [...prevClickedButtons, buttonId];\n      }\n    });\n  };\n  \n\n  async function postToCart(id) {\n    let { data } = await addToCart(id)\n    if (data.status === 'success') {\n      setCartCount(data.numOfCartItems)\n      toast.success(data.message, {\n        duration: 2000,\n      })\n\n    }\n  }\n\n  async function postTowishList(id) {\n    let { data } = await addTowishList(id)\n\n    if (data.status === 'success') {\n      setWishList(data.data)\n      setWishListCount(data?.data.length)\n      toast.success(data.message, {\n        duration: 2000,\n      })\n\n    }\n  }\n  async function deletelistItems(id) {\n    let { data } = await deletewishListItems(id)\n    setWishList(data.data)\n    setWishListCount(data?.data.length)\n    toast.error(data.message, {\n      duration: 2000,\n    })\n    \n  }\n  var settings = {\n    dots: false,\n    autoplay: true,\n    autoplaySpeed: 2000,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 1,\n    arrows: false,\n    slidesToScroll: 1\n  };\n  let { id } = useParams();\n  const [details, setDetails] = useState({})\n  const [loading, setLoading] = useState(true)\n\n  async function getProduct(id) {\n    setLoading(true)\n    let { data } = await axios.get(`https://ecommerce.routemisr.com/api/v1/products/${id}`)\n    setDetails(data.data)\n\n    setLoading(false)\n  }\n  useEffect(() => {\n    getProduct(id)\n    getList()\n  }, [])\n  async function getList() {\nsetLoading(true)\n    let { data } = await getwishListItems()\n    setWishList(data.data)\n    let clicked = data.data.map(item => item._id)\n    setClickedButtons(clicked)\n    setLoading(false)\n  }\n  return <>\n    {loading ? <div className='row justify-content-center position-fixed top-0 bottom-0 start-0 end-0 bg-light bg-opacity-75 align-items-center'>\n      <FallingLines\n        width=\"100\"\n        height='100'\n        wrapperClass=\"bg-main\"\n        visible={true}\n        ariaLabel=\"falling-circles-loading\"\n      />\n    </div>\n      : <>\n        <Helmet>\n          <meta charSet=\"utf-8\" />\n          <title>{details.title}</title>\n        </Helmet>\n        <div className='row justify-content-center align-items-center'>\n          <div className='col-md-4'>\n            <Slider {...settings}>\n              {details.images.map((image, index) => <img src={image} alt={details.title} key={index} className='w-100' />)}\n\n            </Slider>\n          </div>\n          <div className='col-md-8'>\n            <div className='details p-4'>\n              <h3 className='h6'>{details.title}</h3>\n              <p className='py-3'>{details.description} </p>\n\n              <span className='font-sm text-main'> {details.category.name}</span>\n              <div className='d-flex justify-content-between align-items-center py-3'>\n\n                <span className='font-sm' >{details.price} EGP</span>\n                <span>\n                  <i\n                    className={`heart-icon ${clickedButtons.includes(details.id) ? 'clicked' : ''} fa fa-heart pointer fa-2x w-100 text-end `}\n                    onClick={() => handleClick(details.id)}\n                  />\n                </span>\n                <span className='font-sm' >\n                  <i className='fas fa-star rating-color me-1'></i>\n                  {details.ratingsAverage}\n                </span>\n\n              </div>\n              <button className='w-100 btn bg-main text-main-light btn-sm' onClick={() => postToCart(details.id)}> Add To Cart</button>\n\n            </div>\n          </div>\n\n        </div>\n      </>\n\n    }  </>\n}\n"],"names":["ProductDetails","_postToCart","_postTowishList","_deletelistItems","_getProduct","_getList","_useState","useState","_useState2","_slicedToArray","clickedButtons","setClickedButtons","_useState3","_useState4","setWishList","_useContext","useContext","CartContext","addToCart","setCartCount","_useContext2","WishListContext","addTowishList","deletewishListItems","setWishListCount","getwishListItems","handleClick","buttonId","includes","_x3","_asyncToGenerator","_regeneratorRuntime","mark","_callee3","id","_yield$deletewishList","data","wrap","_context3","prev","next","sent","length","toast","error","message","duration","stop","apply","arguments","deletelistItems","_x2","_callee2","_yield$addTowishList","_context2","status","success","postTowishList","prevClickedButtons","filter","concat","_toConsumableArray","useParams","_useState5","_useState6","details","setDetails","_useState7","_useState8","loading","setLoading","useEffect","_x4","_callee4","_yield$axios$get","_context4","axios","get","getProduct","_callee5","_yield$getwishListIte","clicked","_context5","map","item","_id","getList","_jsxs","_Fragment","children","_jsx","className","FallingLines","width","height","wrapperClass","visible","ariaLabel","Helmet","charSet","title","Slider","_objectSpread","dots","autoplay","autoplaySpeed","infinite","speed","slidesToShow","arrows","slidesToScroll","images","image","index","src","alt","description","category","name","price","onClick","ratingsAverage","_x","_callee","_yield$addToCart","_context","numOfCartItems","postToCart"],"sourceRoot":""}