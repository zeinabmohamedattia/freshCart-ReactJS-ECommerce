"use strict";(self.webpackChunkfinalproject=self.webpackChunkfinalproject||[]).push([[412],{5412:function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var n=s(1413),a=s(4165),r=s(5861),i=s(3433),c=s(9439),o=s(2791),u=s(7689),l=s(1243),d=s(9329),f=s(5717),p=s(4270),m=s(3926),h=s(5218),x=s(3676),j=s(184);function g(){var e,t,s,g,v,Z=(0,o.useState)([]),w=(0,c.Z)(Z,2),N=w[0],y=w[1],b=(0,o.useState)([]),C=(0,c.Z)(b,2),k=(C[0],C[1]),S=(0,o.useContext)(m.A),L=S.addToCart,T=S.setCartCount,P=(0,o.useContext)(x.v),A=P.addTowishList,I=P.deletewishListItems,E=P.setWishListCount,F=P.getwishListItems,O=function(e){N.includes(e)?function(e){(s=s||(0,r.Z)((0,a.Z)().mark((function e(t){var s,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t);case 2:s=e.sent,n=s.data,k(n.data),E(null===n||void 0===n?void 0:n.data.length),h.ZP.error(n.message,{duration:2e3});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e):function(e){(t=t||(0,r.Z)((0,a.Z)().mark((function e(t){var s,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:s=e.sent,"success"===(n=s.data).status&&(k(n.data),E(null===n||void 0===n?void 0:n.data.length),h.ZP.success(n.message,{duration:2e3}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e),y((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):[].concat((0,i.Z)(t),[e])}))};var q=(0,u.UO)().id,G=(0,o.useState)({}),R=(0,c.Z)(G,2),U=R[0],W=R[1],_=(0,o.useState)(!0),z=(0,c.Z)(_,2),B=z[0],D=z[1];return(0,o.useEffect)((function(){!function(e){(g=g||(0,r.Z)((0,a.Z)().mark((function e(t){var s,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,l.Z.get("https://ecommerce.routemisr.com/api/v1/products/".concat(t));case 3:s=e.sent,n=s.data,W(n.data),D(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(q),function(){(v=v||(0,r.Z)((0,a.Z)().mark((function e(){var t,s,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,F();case 3:t=e.sent,s=t.data,k(s.data),n=s.data.map((function(e){return e._id})),y(n),D(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}()}),[]),(0,j.jsxs)(j.Fragment,{children:[B?(0,j.jsx)("div",{className:"row justify-content-center position-fixed top-0 bottom-0 start-0 end-0 bg-light bg-opacity-75 align-items-center",children:(0,j.jsx)(d.Rf,{width:"100",height:"100",wrapperClass:"bg-main",visible:!0,ariaLabel:"falling-circles-loading"})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(p.q,{children:[(0,j.jsx)("meta",{charSet:"utf-8"}),(0,j.jsx)("title",{children:U.title})]}),(0,j.jsxs)("div",{className:"row justify-content-center align-items-center",children:[(0,j.jsx)("div",{className:"col-md-4",children:(0,j.jsx)(f.Z,(0,n.Z)((0,n.Z)({},{dots:!1,autoplay:!0,autoplaySpeed:2e3,infinite:!0,speed:500,slidesToShow:1,arrows:!1,slidesToScroll:1}),{},{children:U.images.map((function(e,t){return(0,j.jsx)("img",{src:e,alt:U.title,className:"w-100"},t)}))}))}),(0,j.jsx)("div",{className:"col-md-8",children:(0,j.jsxs)("div",{className:"details p-4",children:[(0,j.jsx)("h3",{className:"h6",children:U.title}),(0,j.jsxs)("p",{className:"py-3",children:[U.description," "]}),(0,j.jsxs)("span",{className:"font-sm text-main",children:[" ",U.category.name]}),(0,j.jsxs)("div",{className:"d-flex justify-content-between align-items-center py-3",children:[(0,j.jsxs)("span",{className:"font-sm",children:[U.price," EGP"]}),(0,j.jsx)("span",{children:(0,j.jsx)("i",{className:"heart-icon ".concat(N.includes(U.id)?"clicked":""," fa fa-heart pointer fa-2x w-100 text-end "),onClick:function(){return O(U.id)}})}),(0,j.jsxs)("span",{className:"font-sm",children:[(0,j.jsx)("i",{className:"fas fa-star rating-color me-1"}),U.ratingsAverage]})]}),(0,j.jsx)("button",{className:"w-100 btn bg-main text-main-light btn-sm",onClick:function(){return function(t){return(e=e||(0,r.Z)((0,a.Z)().mark((function e(t){var s,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:s=e.sent,"success"===(n=s.data).status&&(T(n.numOfCartItems),h.ZP.success(n.message,{duration:2e3}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(U.id)},children:" Add To Cart"})]})})]})]}),"  "]})}}}]);
//# sourceMappingURL=412.c28947a6.chunk.js.map