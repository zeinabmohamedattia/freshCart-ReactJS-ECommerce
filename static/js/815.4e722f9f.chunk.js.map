{"version":3,"file":"static/js/815.4e722f9f.chunk.js","mappings":"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","sources":["Components/Cart/Cart.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { CartContext } from '../../Context/CartContext.js';\nimport { FallingLines } from 'react-loader-spinner';\nimport { Helmet } from 'react-helmet';\nimport { Link } from 'react-router-dom';\nimport toast from 'react-hot-toast';\n\nexport default function Cart() {\n  const [cart, setCart] = useState(null)\n  const [loading, setLoading] = useState(true)\n  let { getCartItems, deleteCartItems, updateCartItems, setCartCount, emptyCart } = useContext(CartContext)\n  async function getItems() {\n    let { data } = await getCartItems()\n    if (!data) {\n      setLoading(false)\n      setCart(null)\n      setCartCount(0)\n    } else {\n      setLoading(false)\n      setCart(data)\n      setCartCount(data.numOfCartItems)\n    }\n  }\n  async function deleteItems(id) {\n    setLoading(true)\n    let { data } = await deleteCartItems(id)\n    if (data.status === 'success') {\n      setCart(data)\n      setCartCount(data.numOfCartItems)\n      toast.error('Product Deleted Successfully', {\n        duration: 2000,\n      }\n      )\n      if (data.numOfCartItems === 0) {\n        setCart(null);\n        setCartCount(0)\n      }\n      setLoading(false)\n    }\n  }\n\n  async function clearCart() {\n    setLoading(true)\n    await emptyCart()\n    setLoading(false)\n    setCart(null)\n    setCartCount(0)\n  }\n  async function updateItems(id, count) {\n    if (count < 1) {\n\n      deleteItems(id)\n\n    } else {\n      let { data } = await updateCartItems(id, count)\n      setCart(data)\n      setCartCount(data.numOfCartItems)\n    }\n\n  }\n  useEffect(() => {\n    getItems()\n  }, [])\n  return <>\n    <Helmet>\n      <meta charSet=\"utf-8\" />\n      <title>My Cart</title>\n    </Helmet>\n    <div className='bg-light p-2 '>\n      <h2 >Shop Cart :</h2>\n      {loading ? <div className='row justify-content-center position-fixed top-0 bottom-0 start-0 end-0 bg-light bg-opacity-75 align-items-center'>\n        <FallingLines\n          width=\"100\"\n          height='100'\n          wrapperClass=\"bg-main\"\n          visible={true}\n          ariaLabel=\"falling-circles-loading\"\n        />\n      </div>\n        : !cart ? <h3>Your Cart Is Empty</h3> : <>\n          <div className='d-flex justify-content-between align-items-center p-2  '>\n            <div className='p-3'>\n              <p className='fw-bold'>Number Of CartItems : <span className='text-main fw-bold'>{cart.numOfCartItems}</span> </p>\n              <p className='fw-bold'>Total Cart Price :<span className='text-main fw-bold'> {cart.data.totalCartPrice} EGP </span>  </p>\n            </div>\n            <div><Link to={`/shippingaddress/${cart.data._id}`} className='btn text-white btn-info'>Check Out</Link>\n            </div>\n\n          </div>\n          {cart.data.products.map(product => <div key={product.product._id} className='row align-items-center border-1 border-bottom p-2 m-0'>\n            <div className='col-md-1'>\n              <div className='image'>\n                <img className='w-100' alt={product.product.title} src={product.product.imageCover} />\n              </div>\n            </div>\n            <div className='col-md-10 '>\n              <div className='item'>\n                <h3 className='h5 fw-bold'> {product.product.title.split(' ').splice(0, 2).join(' ')}</h3>\n                <p className='text-main fw-bold'>Price :  {product.price} EGP</p>\n                <button className='btn' onClick={() => deleteItems(product.product._id)}><i className='fas fa-trash-can text-danger'></i> Remove</button>\n              </div>\n            </div>\n            <div className='col-md-1 '>\n              <div className='count'>\n                <button className='btn  p-1 brdr' onClick={() => updateItems(product.product._id, product.count + 1)}>+</button>\n                <span className='mx-2' >{product.count}</span>\n                <button className='btn p-1 brdr' onClick={() => updateItems(product.product._id, product.count - 1)}>-</button>\n              </div>\n            </div>\n\n          </div>)}\n          <div className='col-md-12 justify-content-center d-flex'>\n            <button className='btn brdr mt-2' onClick={() => clearCart()}> Clear Your Cart</button>\n\n          </div>\n        </>}\n\n    </div>\n  </>\n}\n"],"names":["Cart","_getItems","_deleteItems","_clearCart","_updateItems","_useState","useState","_useState2","_slicedToArray","cart","setCart","_useState3","_useState4","loading","setLoading","_useContext","useContext","CartContext","getCartItems","deleteCartItems","updateCartItems","setCartCount","emptyCart","deleteItems","_x","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","id","_yield$deleteCartItem","data","wrap","_context2","prev","next","sent","status","numOfCartItems","toast","error","duration","stop","apply","arguments","updateItems","_x2","_x3","_callee4","count","_yield$updateCartItem","_context4","useEffect","_callee","_yield$getCartItems","_context","getItems","_jsxs","_Fragment","children","Helmet","_jsx","charSet","className","FallingLines","width","height","wrapperClass","visible","ariaLabel","totalCartPrice","Link","to","concat","_id","products","map","product","alt","title","src","imageCover","split","splice","join","price","onClick","_callee3","_context3","clearCart"],"sourceRoot":""}