"use strict";(self.webpackChunkfinalproject=self.webpackChunkfinalproject||[]).push([[600],{6600:function(t,e,n){n.r(e),n.d(e,{default:function(){return x}});var s=n(4165),a=n(5861),r=n(3433),c=n(9439),i=n(2791),o=n(4270),u=n(1243),l=n(9329),d=n(1087),f=n(3926),m=n(5218),h=n(3676),p=n(184);function x(){var t,e,n,x,v,g,j=(0,i.useState)(!1),w=(0,c.Z)(j,2),Z=w[0],C=w[1],N=(0,i.useState)([]),y=(0,c.Z)(N,2),b=y[0],k=y[1],S=(0,i.useState)(""),L=(0,c.Z)(S,2),P=L[0],I=L[1],A=(0,i.useState)([]),E=(0,c.Z)(A,2),T=E[0],F=E[1],O=(0,i.useState)(null),q=(0,c.Z)(O,2),B=(q[0],q[1]),G=(0,i.useContext)(f.A),R=G.getCartItems,U=G.setCartCount,W=G.addToCart,Y=(0,i.useState)([]),_=(0,c.Z)(Y,2),z=_[0],D=_[1],H=(0,i.useState)([]),J=(0,c.Z)(H,2),K=(J[0],J[1]),M=(0,i.useContext)(h.v),Q=M.addTowishList,V=M.deletewishListItems,X=M.getwishListItems,$=M.setWishListCount;(0,i.useEffect)((function(){!function(){(e=e||(0,a.Z)((0,s.Z)().mark((function t(){var e,n;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return C(!0),t.next=3,u.Z.get("https://ecommerce.routemisr.com/api/v1/products");case 3:e=t.sent,n=e.data,k(null===n||void 0===n?void 0:n.data),F(null===n||void 0===n?void 0:n.data),C(!1);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(),function(){(t=t||(0,a.Z)((0,s.Z)().mark((function t(){var e,n,a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return C(!0),t.next=3,X();case 3:e=t.sent,n=e.data,K(n.data),a=n.data.map((function(t){return t._id})),D(a),C(!1);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(),function(){(n=n||(0,a.Z)((0,s.Z)().mark((function t(){var e,n;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R();case 2:e=t.sent,(n=e.data)?(B(n),U(n.numOfCartItems)):(B(null),U(0));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}()}),[]);var tt=function(t){z.includes(t)?function(t){(g=g||(0,a.Z)((0,s.Z)().mark((function t(e){var n,a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(e);case 2:n=t.sent,a=n.data,K(a.data),$(null===a||void 0===a?void 0:a.data.length),m.ZP.error(a.message,{duration:2e3});case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(t):function(t){(v=v||(0,a.Z)((0,s.Z)().mark((function t(e){var n,a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(e);case 2:n=t.sent,"success"===(a=n.data).status&&(K(a.data),$(null===a||void 0===a?void 0:a.data.length),m.ZP.success(a.message,{duration:2e3}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(t),D((function(e){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat((0,r.Z)(e),[t])}))};return(0,i.useEffect)((function(){!function(){var t=b.filter((function(t){return t.title.toLowerCase().includes(P.toLowerCase())}));F(t||[])}()}),[z,P]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(o.q,{children:[(0,p.jsx)("meta",{charSet:"utf-8"}),(0,p.jsx)("title",{children:"products"})]}),Z?(0,p.jsx)("div",{className:"row justify-content-center position-fixed top-0 bottom-0 start-0 end-0 bg-light bg-opacity-75 align-items-center",children:(0,p.jsx)(l.Rf,{width:"100",height:"100",wrapperClass:"bg-main",visible:!0,ariaLabel:"falling-circles-loading"})}):(0,p.jsxs)("div",{className:"  ",children:[(0,p.jsx)("label",{className:"text-main w-75 d-block mx-auto fw-bold",children:"Search By Product Name "}),(0,p.jsx)("input",{type:"text",placeholder:"search....",value:P,onChange:function(t){I(t.target.value)},className:"w-75 mx-auto form-control my-2 "}),(0,p.jsx)("div",{className:"row gy-4 py-5 ",children:0!==T.length?null===T||void 0===T?void 0:T.map((function(t){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"col-md-3 ",children:(0,p.jsxs)("div",{className:"product p-1",children:[(0,p.jsxs)(d.rU,{to:"/productdetails/".concat(t.id),className:"",children:[(0,p.jsx)("img",{src:t.imageCover,alt:t.title,height:300,className:"w-100"}),(0,p.jsxs)("span",{className:"font-sm text-main",children:[" ",t.category.name]}),(0,p.jsx)("h3",{className:"h6",children:t.title.split(" ").splice(0,2).join(" ")}),(0,p.jsxs)("div",{className:"d-flex justify-content-between align-items-center py-3",children:[(0,p.jsxs)("span",{className:"font-sm",children:[t.price," EGP"]}),(0,p.jsxs)("span",{className:"font-sm",children:[(0,p.jsx)("i",{className:"fas fa-star rating-color me-1"}),t.ratingsAverage]})]})]}),(0,p.jsx)("div",{children:(0,p.jsx)("i",{className:"heart-icon ".concat(z.includes(t.id)?"clicked":""," fa fa-heart fa-2x w-100 text-end pointer "),onClick:function(){return tt(t.id)}})}),(0,p.jsx)("button",{onClick:function(){return function(t){return(x=x||(0,a.Z)((0,s.Z)().mark((function t(e){var n,a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(e);case 2:n=t.sent,"success"===(a=n.data).status&&(U(a.numOfCartItems),m.ZP.success(a.message,{duration:2e3}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(t.id)},className:"w-100 btn bg-main text-main-light btn-sm",children:" Add To Cart"})]})},t.id)})})):(0,p.jsxs)("h3",{className:"text-center",children:['Your search "',P,'" did not match any Products']})})]})]})}}}]);
//# sourceMappingURL=600.c49644a5.chunk.js.map