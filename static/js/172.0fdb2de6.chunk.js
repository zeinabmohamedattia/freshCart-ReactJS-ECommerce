"use strict";(self.webpackChunkfinalproject=self.webpackChunkfinalproject||[]).push([[172],{8010:function(e,t,s){s.r(t),s.d(t,{default:function(){return k}});var a=s(3433),n=s(4165),i=s(5861),r=s(9439),c=s(1243),l=s(9329),o=s(1087),d=s(1933),u=s(2791),m=s(3926),h=s(5218),f=s(3676),p=s(184);function x(){var e,t,s,d,x,g,v=(0,u.useState)(!1),j=(0,r.Z)(v,2),w=j[0],Z=j[1],N=(0,u.useState)([]),y=(0,r.Z)(N,2),b=y[0],C=y[1],S=(0,u.useState)(""),k=(0,r.Z)(S,2),L=k[0],T=k[1],P=(0,u.useState)([]),F=(0,r.Z)(P,2),I=F[0],A=F[1],E=(0,u.useState)(null),_=(0,r.Z)(E,2),O=(_[0],_[1]),q=(0,u.useContext)(m.A),B=q.getCartItems,G=q.setCartCount,Q=q.addToCart,R=(q.cartCount,(0,u.useState)([])),U=(0,r.Z)(R,2),W=(U[0],U[1]),Y=(0,u.useState)([]),z=(0,r.Z)(Y,2),D=z[0],H=z[1],J=(0,u.useContext)(f.v),K=J.addTowishList,M=J.setWishListCount,V=J.deletewishListItems,X=J.getwishListItems;J.wishListCount;(0,u.useEffect)((function(){!function(){(s=s||(0,i.Z)((0,n.Z)().mark((function e(){var t,s,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),e.next=3,X();case 3:t=e.sent,s=t.data,console.log(s),W(s.data),M(null===s||void 0===s?void 0:s.count),a=s.data.map((function(e){return e._id})),H(a),Z(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(),function(){(e=e||(0,i.Z)((0,n.Z)().mark((function e(){var t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("https://ecommerce.routemisr.com/api/v1/products");case 2:t=e.sent,s=t.data,C(null===s||void 0===s?void 0:s.data),A(null===s||void 0===s?void 0:s.data),Z(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(),function(){(t=t||(0,i.Z)((0,n.Z)().mark((function e(){var t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),e.next=3,B();case 3:t=e.sent,"success"===(null===(s=t.data)||void 0===s?void 0:s.status)&&(O(null===s||void 0===s?void 0:s.data),G(null===s||void 0===s?void 0:s.numOfCartItems),console.log(s)),Z(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}()}),[]);var $=function(e){D.includes(e)?function(e){(g=g||(0,i.Z)((0,n.Z)().mark((function e(t){var s,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t);case 2:s=e.sent,a=s.data,W(a.data),M(null===a||void 0===a?void 0:a.data.length),h.ZP.error(a.message,{duration:2e3});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e):function(e){(x=x||(0,i.Z)((0,n.Z)().mark((function e(t){var s,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t);case 2:s=e.sent,"success"===(a=s.data).status&&(W(a.data),M(null===a||void 0===a?void 0:a.data.length),h.ZP.success(a.message,{duration:2e3}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e),H((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):[].concat((0,a.Z)(t),[e])}))};return(0,u.useEffect)((function(){!function(){var e=b.filter((function(e){return e.title.toLowerCase().includes(L.toLowerCase())}));A(e||[])}()}),[D,L]),(0,p.jsx)(p.Fragment,{children:w?(0,p.jsx)("div",{className:"row justify-content-center position-fixed top-0 bottom-0 start-0 end-0 bg-light bg-opacity-75 align-items-center",children:(0,p.jsx)(l.Rf,{width:"100",height:"100",wrapperClass:"bg-main",visible:!0,ariaLabel:"falling-circles-loading"})}):(0,p.jsxs)("div",{className:"  ",children:[(0,p.jsx)("label",{className:"text-main w-75 mt-3 d-block mx-auto fw-bold",children:"Search By Product Name "}),(0,p.jsx)("input",{type:"text",placeholder:"search....",value:L,onChange:function(e){T(e.target.value)},className:"w-75 mx-auto form-control my-3 "}),(0,p.jsx)("div",{className:"row gy-4 py-4 ",children:0!==I.length?null===I||void 0===I?void 0:I.map((function(e){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"col-md-3 ",children:(0,p.jsxs)("div",{className:"product p-2",children:[(0,p.jsxs)(o.rU,{to:"/productdetails/".concat(e.id),className:"",children:[(0,p.jsx)("img",{src:e.imageCover,alt:e.title,height:300,className:"w-100"}),(0,p.jsxs)("span",{className:"font-sm text-main",children:[" ",e.category.name]}),(0,p.jsx)("h3",{className:"h6",children:e.title.split(" ").splice(0,2).join(" ")}),(0,p.jsxs)("div",{className:"d-flex justify-content-between align-items-center py-3",children:[(0,p.jsxs)("span",{className:"font-sm",children:[e.price," EGP"]}),(0,p.jsxs)("span",{className:"font-sm",children:[(0,p.jsx)("i",{className:"fas fa-star rating-color me-1"}),e.ratingsAverage]})]})]}),(0,p.jsx)("div",{children:(0,p.jsx)("i",{className:"heart-icon ".concat(D.includes(e.id)?"clicked":""," fa fa-heart fa-2x w-100 text-end pointer "),onClick:function(){return $(e.id)}})}),(0,p.jsx)("button",{onClick:function(){return function(e){return(d=d||(0,i.Z)((0,n.Z)().mark((function e(t){var s,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),e.next=3,Q(t);case 3:s=e.sent,"success"===(null===(a=s.data)||void 0===a?void 0:a.status)&&(G(a.numOfCartItems),h.ZP.success(a.message,{duration:2e3})),Z(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e.id)},className:"w-100 btn bg-main text-main-light btn-sm",children:" Add To Cart"})]})},e._id)})})):(0,p.jsxs)("h3",{className:"text-center",children:['Your search "',L,'" did not match any Products']})})]})})}var g=s(1413),v=s.p+"static/media/slider-2.92200ddb54f84e0e8c71.jpeg",j=s.p+"static/media/slider-image-1.3c3940ee0f1c3b17ff9a.jpeg",w=s.p+"static/media/slider-image-2.e510b0de8a4d96a1d5ad.jpeg",Z=s.p+"static/media/slider-image-3.7e5c9f7a513f6db6dd5e.jpeg",N=s.p+"static/media/grocery-banner-2.7a4a78a90acc3d5847cb.jpeg",y=s(5717);function b(){return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"row py-4 gx-0 ",children:[(0,p.jsx)("div",{className:"col-md-9",children:(0,p.jsx)("div",{className:"images",children:(0,p.jsxs)(y.Z,(0,g.Z)((0,g.Z)({},{dots:!1,autoplay:!0,autoplaySpeed:2e3,infinite:!0,speed:500,slidesToShow:1,arrows:!1,slidesToScroll:1}),{},{children:[(0,p.jsx)("img",{src:Z,alt:"fresh cart",className:"w-100",height:400}),(0,p.jsx)("img",{src:j,alt:"fresh cart",className:"w-100",height:400}),(0,p.jsx)("img",{src:w,alt:"fresh cart",className:"w-100",height:400})]}))})}),(0,p.jsx)("div",{className:"col-md-3",children:(0,p.jsxs)("div",{className:"images",children:[(0,p.jsx)("img",{src:v,alt:"fresh cart",className:"w-100",height:200}),(0,p.jsx)("img",{src:N,alt:"fresh cart",className:"w-100",height:200})]})})]})})}function C(){var e=(0,d.useQuery)("allCategories",(function(){return c.Z.get("https://ecommerce.routemisr.com/api/v1/categories")})).data;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"row",children:(0,p.jsx)(y.Z,(0,g.Z)((0,g.Z)({},{dots:!1,autoplay:!0,autoplaySpeed:2e3,infinite:!0,speed:500,slidesToShow:6,arrows:!1,slidesToScroll:1}),{},{children:null===e||void 0===e?void 0:e.data.data.map((function(e){return(0,p.jsx)("div",{className:"col-md-2",children:(0,p.jsxs)("div",{className:"category",children:[(0,p.jsx)("img",{height:200,src:e.image,alt:e.name,className:"w-100"}),(0,p.jsx)("p",{children:e.name})]})},e._id)}))}))})})}var S=s(4270);function k(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(S.q,{children:[(0,p.jsx)("meta",{charSet:"utf-8"}),(0,p.jsx)("title",{children:"freshcart"})]}),(0,p.jsx)(b,{}),(0,p.jsx)(C,{}),(0,p.jsx)(x,{})]})}}}]);
//# sourceMappingURL=172.0fdb2de6.chunk.js.map